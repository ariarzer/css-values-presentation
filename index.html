<!DOCTYPE html>
<html lang="en">
<head>
    <title>Shower Presentation Engine</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="shower/themes/ribbon/styles/styles.css">
    <link rel="stylesheet" href="./global_style.css">
    <link rel="stylesheet" href="./front_conf_theme.css">
    <link rel="stylesheet" href="./my_thame.css">
    <style>
        .shower {
            --slide-ratio: calc(16 / 9);
        }
    </style>
</head>
<body class="shower list">

    <header class="caption">
        <h1>Типы данных в CSS</h1>
        <p>София Валитова, ВКонтакте</p>
    </header>

    <section class="slide" id="head">
        <h2>Типы данных в CSS</h2>
        <h3>София Валитова</h3>
        <style>
            .slide#head::after {
                visibility: hidden;
            }
        </style>
    </section>

    <section class="slide">
        <h2>Предыстория</h2>
        <p>CSS иногда работает не так, как я ожидаю</p>
        <pre lang="css">
            <code class=" next">height: calc(3px+4px)</code>
            <code class=" next">height: calc(3px - 4px)</code>
            <code class="next ">height: calc(25% - 0)</code>
        </pre>
    </section>

    <section class="slide">
        <h2>Предыстория</h2>
        <p>CSS иногда работает не так, как я ожидаю</p>
        <pre lang="css">
            <code class=" bad">height: calc(3px+4px)</code>
            <code class=" ">height: calc(3px - 4px)       <span class="next">// => 0px</span></code>
            <code class="bad ">height: calc(25% - 0)</code>
        </pre>
    </section>

    <section class="slide">
        <h2>Предыстория</h2>
        <img src="./access/calc_syntax.png" alt="" style="margin-top: 182px; max-height: none;" class="cover next">
        <p>Посмотрим в спецификацию <span class="next">и пойдем гуглить статьи с примерами</span></p>
    </section>

    <section class="slide" id="speck-screen">
        <h2>Спецификация CSS Values</h2>
        <img src="./access/spec.png" alt="" style="margin-top: 268px; max-height: none;" class="cover">
    </section>

    <section class="slide">
        <h2 class="">Где в CSS данные?</h2>
        <div class="next">
            <p>Если определять интуитивно, то вот так:</p>
            <img src="access/basic_syntax.svg" alt="" style="width: 50vw" class="cover">
            <p class="next" style="margin-top: 24vh">Но давайте попробуем более формально.</p>
        </div>
    </section>

    <section class="slide" id="-screen">
        <h2>Спецификация CSS Syntax</h2>
        <img src="./access/css_syntax.png" alt="" style="margin-top: 195px; max-height: none;" class="cover">
    </section>

    <section class="slide">
        <pre lang="bnf">
            <code>&lt;style-rule> ::=</code>
            <code>  &lt;selectors-list> { &lt;properties-list> }</code>
            <code>&lt;selectors-list> ::=</code>
            <code>  &lt;selector>[':' &lt;pseudo-class>] ['::' &lt;pseudo-element>]</code>
            <code>  [',' &lt;selectors-list>]</code>
            <code>&lt;properties-list> ::=</code>
            <code>  [&lt;property> ':' <span class="next next-light code">&lt;value></span>] [';' &lt;properties-list>]</code>
        </pre>
    </section>

    <section class="slide">
        <h2 class="cover shrink" style="text-align: center; font-size: 60px">Немного формальной грамматики</h2>
    </section>

    <section class="slide">
        <h2>Простой пример</h2>
        <p>Попробуем описать грамматику отрицательных чисел от -1 до -9:</p>
        <pre lang="bnf">
            <code><span class="next next-light code">&lt;neg_num></span> ::= "-" &lt;num></code>
            <code>&lt;num> ::= "1" | "2" | "3" | "4" | "5" |</code>
            <code>      | "6" | "7" | "8" | "9"</code>
        </pre>
    </section>

    <section class="slide">
        <h2>Простой пример</h2>
        <p>Попробуем описать грамматику отрицательных чисел от -1 до -9:</p>
        <pre lang="bnf">
            <code>&lt;neg_num> ::= "-" <span class=" code">&lt;num></span></code>
            <code><span class=" code">&lt;num></span> ::= "1" | "2" | "3" | "4" | "5" |</code>
            <code>      | "6" | "7" | "8" | "9"</code>
        </pre>
    </section>

    <section class="slide">
        <h2>Простой пример</h2>
        <p>Попробуем описать грамматику отрицательных чисел от -1 до -9:</p>
        <pre lang="bnf">
            <code>&lt;neg_num> ::= "-" &lt;num></code>
            <code>&lt;num> ::= "1" | "2" | "3" | "4" | "5" |</code>
            <code>      | "6" | "7" | "8" | "9"</code>
        </pre>
        <div>
            <p>Сложение отрицательных чисел:</p>
            <pre lang="bnf">
                <code>&lt;add_expr> ::= &lt;neg_num> "+" "(" &lt;neg_num> ")"</code>
                <code class="no-code"></code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>Простой пример</h2>
        <p>Попробуем описать грамматику отрицательных чисел от -1 до -9:</p>
        <pre lang="bnf">
            <code>&lt;neg_num> ::= <span class="no-term">"-"</span> &lt;num></code>
            <code>&lt;num> ::= <span class="no-term">"1" | "2" | "3" | "4" | "5" |</span></code>
            <code>      <span class="no-term">| "6" | "7" | "8" | "9"</span></code>
        </pre>
        <div>
            <p>Сложение отрицательных чисел:</p>
            <pre lang="bnf">
                <code>&lt;add_expr> ::= &lt;neg_num> <span class="no-term">"+" "("</span> &lt;neg_num> <span class="no-term">")"</span></code>
                <code class="no-code"></code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>Простой пример</h2>
        <p>Попробуем описать грамматику отрицательных чисел от -1 до -9:</p>
        <pre lang="bnf">
            <code><span class="term">&lt;neg_num></span> ::= <span class="no-term">"-"</span> <span class="term">&lt;num></span></code>
            <code><span class="term">&lt;num></span> ::= <span class="no-term">"1" | "2" | "3" | "4" | "5" |</span></code>
            <code>      <span class="no-term">| "6" | "7" | "8" | "9"</span></code>
        </pre>
        <div>
            <p>Сложение отрицательных чисел:</p>
            <pre lang="bnf">
                <code><span class="term">&lt;add_expr></span> ::= <span class="term">&lt;neg_num></span> <span class="no-term">"+" "("</span> <span class="term">&lt;neg_num></span> <span class="no-term">")"</span></code>
                <code class="no-code"></code>
            </pre>
        </div>
        <div style="left: 800px;position: absolute;top: 250px;">
            <div class="no-term next">Терминалы</div>
            <div class="term next" >Нетерминалы</div>
        </div>
    </section>

    <section class="slide">
        <h2>Форма Бэкуса-Наура</h2>
        <table>
            <tr>
                <td>"text" или 'text'</td>
                <td>терминал</td>
            </tr>
            <tr>
                <td><b>&lt;A></b></td>
                <td>нетерминал</td>
            </tr>
            <tr>
                <td><b>&lt;A></b> ::= <b>&lt;B></b>  </td>
                <td><b>&lt;A></b> заменимо на  <b>&lt;B></b></td>
            </tr>
            <tr>
                <td><b>&lt;A></b>  <b>&lt;B></b></td>
                <td>конкатенация</td>
            </tr>
            <tr>
                <td><b>&lt;A></b> | <b>&lt;B></b></td>
                <td>один из элементов</td>
            </tr>

            <tr>
                <td><b>integer</b></td>
                <td>имя класса нетерминалов, описывается не через BNF</td>
            </tr>
        </table>
    </section>

    <section class="slide">
        <pre syntax="bnf">
            <code>&lt;expression> ::= &lt;add_expr></code>
            <code>&lt;add_expr> ::= &lt;mul_expr> '+' &lt;add_expr></code>
            <code>    | &lt;mul_expr> '-' &lt;add_expr></code>
            <code>    | &lt;mul_expr></code>
            <code>&lt;mul_expr> ::= integer '*' &lt;mul_expr></code>
            <code>    | integer '/' &lt;mul_expr></code>
            <code>    | integer '%' &lt;mul_expr></code>
            <code>    | integer</code>
            <code><span class="code">integer ::= [0-9]+</span>      <- класс нетерминалов</code>
        </pre>
    </section>

    <section class="slide">
        <pre syntax="bnf">
            <code>&lt;expression> ::= &lt;add_expr></code>
            <code>&lt;add_expr> ::= &lt;mul_expr> '+' &lt;add_expr></code>
            <code>    | &lt;mul_expr> '-' &lt;add_expr></code>
            <code>    | &lt;mul_expr></code>
            <code>&lt;mul_expr> ::= integer '*' &lt;mul_expr></code>
            <code>    | integer '/' &lt;mul_expr></code>
            <code>    | integer '%' &lt;mul_expr></code>
            <code>    | integer</code>
            <code>integer ::= [0-9]+</code>
        </pre>
    </section>

    <section class="slide">
        <pre syntax="bnf">
            <code>&lt;expression> ::= &lt;add_expr></code>
            <code>&lt;add_expr> ::= <span class="code">&lt;mul_expr></span> '+' &lt;add_expr></code>
            <code>    | <span  class="code">&lt;mul_expr></span> '-' &lt;add_expr></code>
            <code>    | <span class="code">&lt;mul_expr></span></code>
            <code>&lt;mul_expr> ::= integer '*' &lt;mul_expr></code>
            <code>    | integer '/' &lt;mul_expr></code>
            <code>    | integer '%' &lt;mul_expr></code>
            <code>    | integer</code>
            <code>integer ::= [0-9]+</code>
        </pre>
    </section>

    <section class="slide">
        <pre syntax="bnf">
            <code>&lt;expression> ::= &lt;add_expr></code>
            <code>&lt;add_expr> ::= <span class="code">&lt;mul_expr></span> '+' <span class="no-term">&lt;add_expr></span></code>
            <code>    | <span  class="code">&lt;mul_expr></span> '-' <span class="no-term">&lt;add_expr></span></code>
            <code>    | <span class="code">&lt;mul_expr></span></code>
            <code>&lt;mul_expr> ::= integer '*' &lt;mul_expr></code>
            <code>    | integer '/' &lt;mul_expr></code>
            <code>    | integer '%' &lt;mul_expr></code>
            <code>    | integer</code>
            <code>integer ::= [0-9]+</code>
        </pre>
    </section>

    <section class="slide">
        <pre syntax="bnf">
            <code>&lt;expression> ::= &lt;add_expr></code>
            <code>&lt;add_expr> ::= <span class="code">&lt;mul_expr></span> '+' <span class="no-term">&lt;add_expr></span></code>
            <code>    | <span  class="code">&lt;mul_expr></span> '-' <span class="no-term">&lt;add_expr></span></code>
            <code>    | <span class="code">&lt;mul_expr></span></code>
            <code>&lt;mul_expr> ::= <span class="light_two">integer</span> '*' &lt;mul_expr></code>
            <code>    | <span class="light_two">integer</span> '/' &lt;mul_expr></code>
            <code>    | <span class="light_two">integer</span> '%' &lt;mul_expr></code>
            <code>    | <span class="light_two">integer</span></code>
            <code>integer ::= [0-9]+</code>
        </pre>
    </section>

    <section class="slide">
        <pre syntax="bnf">
            <code>&lt;expression> ::= &lt;add_expr></code>
            <code>&lt;add_expr> ::= <span class="code">&lt;mul_expr></span> '+' <span class="no-term">&lt;add_expr></span></code>
            <code>    | <span  class="code">&lt;mul_expr></span> '-' <span class="no-term">&lt;add_expr></span></code>
            <code>    | <span class="code">&lt;mul_expr></span></code>
            <code>&lt;mul_expr> ::= <span class="light_two">integer</span> '*' <span class="light_three">&lt;mul_expr></span></code>
            <code>    | <span class="light_two">integer</span> '/' <span class="light_three">&lt;mul_expr></span></code>
            <code>    | <span class="light_two">integer</span> '%' <span class="light_three">&lt;mul_expr></span></code>
            <code>    | <span class="light_two">integer</span></code>
            <code>integer ::= [0-9]+</code>
        </pre>
    </section>

    <section class="slide">
        <pre syntax="bnf">
            <code>&lt;expression> ::= &lt;add_expr></code>
            <code>&lt;add_expr> ::= <span class="term">&lt;mul_expr> [ ('+' | '-') &lt;add_expr> ]</span></code>
            <code>&lt;mul_expr> ::= <span class="no-term">integer [ ('*' | '/' | '%') &lt;mul_expr> ]</span></code>
            <code>integer ::= [0-9]+</code>
        </pre>

        <div class="columns two " style="font-size: 17px; margin-top: 50px">
            <pre syntax="bnf" class="term">
                <code class="">&lt;mul_expr> ::= integer '*' &lt;mul_expr></code>
                <code class="">    | integer '/' &lt;mul_expr></code>
                <code class="">    | integer '%' &lt;mul_expr></code>
                <code class="">    | integer</code>
            </pre>
            <pre syntax="bnf" class="no-term">
                <code class="">&lt;add_expr> ::= &lt;mul_expr> '+' &lt;add_expr></code>
                <code class="">    | &lt;mul_expr> '-' &lt;add_expr></code>
                <code class="">    | &lt;mul_expr></code>
            </pre>
        </div>
    </section>

    <section class="slide">
        <h2>Расширенная форма Бэкуса-Наура</h2>
        <table>
            <tr>
                <td><b>[&lt;A>]</b></td>
                <td>условное вхождение</td>
            </tr>
            <tr>
                <td><b>(&lt;A></b> | <b>&lt;B>)</b> <b>&lt;C></b></td>
                <td>группировка</td>
            </tr>
            <tr>
                <td><b>{&lt;A>}</b></td>
                <td>повторение элемента (0 или более раз)</td>
            </tr>
        </table>
    </section>

    <section class="slide">
        <pre>
            <code>&lt;style-rule> ::=</code>
            <code>  &lt;selectors-list> '{' &lt;properties-list> '}'</code>
            <code>&lt;selectors-list> ::=</code>
            <code>  &lt;selector>[':' &lt;pseudo-class>] ['::' &lt;pseudo-element>]</code>
            <code>  [',' &lt;selectors-list>]</code>
            <code>&lt;properties-list> ::=</code>
            <code>  [&lt;property> ':' &lt;value>] [';' &lt;properties-list>]</code>
        </pre>
    </section>

    <section class="slide">
        <pre lang="bnf">
            <code>&lt;style-rule> ::=</code>
            <code>  &lt;selectors-list> '{' &lt;properties-list> '}'</code>
        </pre>

        <pre lang="css">
            <code>.class#id { </code>
            <code>    height: initial;</code>
            <code>    width: 100%;</code>
            <code>}</code>
        </pre>
    </section>

    <section class="slide">
        <pre lang="bnf">
            <code>&lt;style-rule> ::=</code>
            <code>  <span class="light_one">&lt;selectors-list></span> '{' &lt;properties-list> '}'</code>
        </pre>

        <pre lang="css">
            <code><span class="light_one">.class#id</span> }</code>
            <code>    height: initial;</code>
            <code>    width: 100%;</code>
            <code>}</code>
        </pre>
    </section>

    <section class="slide">
        <pre lang="bnf">
            <code>&lt;style-rule> ::=</code>
            <code>  <span class="light_one">&lt;selectors-list></span> <span class="light_zero">'{'</span> &lt;properties-list> <span class="light_zero">'}'</span></code>
        </pre>

        <pre lang="css">
            <code><span class="light_one">.class#id</span> <span class="light_zero">{</span> </code>
            <code>    height: initial;</code>
            <code>    width: 100%;</code>
            <code><span class="light_zero">}</span></code>
        </pre>
    </section>

    <section class="slide">
        <pre lang="bnf">
            <code>&lt;style-rule> ::=</code>
            <code>  <span class="light_one">&lt;selectors-list></span> <span class="light_zero">'{'</span> <span class="light_two">&lt;properties-list></span> <span class="light_zero">'}'</span></code>
        </pre>

        <pre lang="css">
            <code><span class="light_one">.class#id</span> <span class="light_zero">{</span> </code>
            <code>    <span class="light_two">height: initial;</span></code>
            <code>    <span class="light_two">width: 100%;</span></code>
            <code><span class="light_zero">}</span></code>
        </pre>
    </section>

    <section class="slide">
        <pre lang="bnf">
            <code>&lt;properties-list> ::=</code>
            <code>  [&lt;property> ':' &lt;value>] [';' &lt;properties-list>]</code>
        </pre>

        <pre lang="css" class="next">
            <code>.class#id {}</code>
        </pre>
    </section>

    <section class="slide">
        <pre lang="bnf">
            <code>&lt;properties-list> ::=</code>
            <code>  [&lt;property> ':' &lt;value>] [';' &lt;properties-list>]</code>
        </pre>

        <pre lang="css">
            <code>.class#id { </code>
            <code>    height: initial</code>
            <code>}</code>
        </pre>
    </section>

    <section class="slide">
        <pre lang="bnf">
            <code>&lt;properties-list> ::=</code>
            <code>  [<span class="light_one">&lt;property></span> ':' &lt;value>] [';' &lt;properties-list>]</code>
        </pre>

        <pre lang="css">
            <code>.class#id { </code>
            <code>    <span class="light_one">height</span>: initial</code>
            <code>}</code>
        </pre>
    </section>

    <section class="slide">
        <pre lang="bnf">
            <code>&lt;properties-list> ::=</code>
            <code>  [<span class="light_one">&lt;property></span> <span class="light_zero">':'</span> &lt;value>] [';' &lt;properties-list>]</code>
        </pre>

        <pre lang="css">
            <code>.class#id { </code>
            <code>    <span class="light_one">height</span><span class="light_zero">:</span> initial</code>
            <code>}</code>
        </pre>
    </section>

    <section class="slide">
        <pre lang="bnf">
            <code>&lt;properties-list> ::=</code>
            <code>  [<span class="light_one">&lt;property></span> <span class="light_zero">':'</span> <span class="light_two">&lt;value></span>] [';' &lt;properties-list>]</code>
        </pre>

        <pre lang="css">
            <code>.class#id { </code>
            <code>    <span class="light_one">height</span><span class="light_zero">:</span> <span class="light_two">initial</span></code>
            <code>}</code>
        </pre>
    </section>

    <section class="slide">
        <pre lang="bnf">
            <code>&lt;properties-list> ::=</code>
            <code>  [<span class="light_one">&lt;property></span> <span class="light_zero">':'</span> <span class="light_two">&lt;value></span>] [<span class="light_three">';' &lt;properties-list></span>]</code>
        </pre>

        <pre lang="css">
            <code>.class#id { </code>
            <code>    <span class="light_one">height</span><span class="light_zero">:</span> <span class="light_two">initial</span><span class="light_three">;</span></code>
            <code>    <span class="light_three">width: 100%</span></code>
            <code>}</code>
        </pre>
    </section>

    <section class="slide">
        <pre lang="css">
            <code>.class { </code>
            <code>    height: initial;</code>
            <code>    width: 100%;</code>
            <code>    border-width: 2px medium 4px;</code>
            <code>    box-shadow: rgba(0,0,0,0.4) 10px 10px inset;</code>
            <code>    margin: 0 -7px 0 2px;</code>
            <code>    transition: opacity .2s ease, visibility .2s ease;</code>
            <code>}</code>
        </pre>
    </section>

    <section class="slide">
        <pre lang="css">
            <code>margin: 0 -7px 0 2px;</code>
        </pre>
        <div class="next">
            <code>0   -7px   0   2px</code> - 4 токена <code>&lt;length></code>
        </div>
        <pre lang="bnf" class="next">
            <code>&lt;margin> ::= "auto"</code>
            <code>   | &lt;length> </code>
            <code>   | &lt;length> {" "} &lt;length></code>
            <code>   | &lt;length> {" "} &lt;length> {" "} &lt;length></code>
            <code>   | &lt;length> {" "} &lt;length> {" "} &lt;length> {" "} &lt;length></code>
        </pre>
    </section>

    <section class="slide">
        <h2>Value Definition Syntax</h2>
        <ol>
            <li value="1">ключевые слова
                <pre lang="vds">
                    <code>initial</code>
                </pre>
            </li>


            <li value="2">базовые типы данных
                <pre lang="vds">
                    <code> &lt;length></code>
                </pre>
            </li>


            <li value="3">сложные типы данных
                <pre lang="vds">
                    <code> &lt;'background-attachment'></code>
                </pre>
            </li>

        </ol>
    </section>

    <section class="slide">
        <table>
            <tr>
                <td><b>[&lt;A></b> | <b>&lt;B>]</b> <b>&lt;C></b></td>
                <td>группировка</td>
            </tr>
            <tr>
                <td><b>&lt;A></b> || <b>&lt;B></b> || <b>&lt;C></b></td>
                <td>один или более из группы в заданном  порядке</td>
            </tr>
            <tr>
                <td><b>&lt;A></b> && <b>&lt;B></b> && <b>&lt;C></b></td>
                <td>один или более из группы в любом  порядке</td>
            </tr>
            <tr>
                <td><b>&lt;A></b>*</td>
                <td>ноль или более раз</td>
            </tr>
            <tr>
                <td><b>&lt;A></b>+</td>
                <td>один или более раз</td>
            </tr>
            <tr>
                <td><b>&lt;A></b>?</td>
                <td>необязательный</td>
            </tr>
            <tr>
                <td><b>&lt;A></b> {n}</td>
                <td>А повторяется n раз</td>
            </tr>
            <tr>
                <td><b>&lt;A></b> {n, m}</td>
                <td>А повторяется не меньше n раз и не больше m раз</td>
            </tr>
            <tr>
                <td><b>&lt;A></b>#</td>
                <td>один или более раз, разделенные запятыми</td>
            </tr>
        </table>
    </section>

    <section class="slide">
        <pre lang="bnf" class="">
            <code>&lt;'margin'> ::= "auto" | &lt;length>{1, 4} </code>
            <code>  </code>
            <code>&lt;'line-height'> ::= </code>
            <code>   normal | &lt;number> | &lt;length> | &lt;percentage></code>
            <code>  </code>
            <code>&lt;'font-family'> = </code>
            <code>  [ &lt;family-name> | &lt;generic-family> ]#</code>
        </pre>
    </section>

    <section class="slide">
        <pre lang="vds">
            <code>&lt;'border-width'> = </code>
            <code>  [ &lt;length> | thick | medium | thin ]{1,4}</code>
        </pre>

        <pre lang="css">
            <code class="next">border-width: 3px;</code>
            <code class="next">border-width: thick;</code>
            <code class="next">border-width: medium thick;</code>
            <code class="next">border-width: 8em thick;</code>
        </pre>
    </section>


    <section class="slide">
        <pre lang="vds">
            <code>&lt;'text-shadow'> = </code>
            <code>  [ inset? [ &lt;length>{2,4} &lt;color>? ]# ] | none</code>
        </pre>

        <pre lang="css">
            <code class="next">text-shadow: none;</code>
            <code class="next">text-shadow: 1px 1px 2px black;</code>
            <code class="next">text-shadow: inset 1px 1px 2px black;</code>
            <code class="next">text-shadow: inset 1px 1px 2px black, <br>    0 0 1em red, 0 3vw green;</code>
        </pre>
    </section>

    <section class="slide">
        <h2 class="cover shrink" style="text-align: center; font-size: 60px">Посмотрим на проблему еще раз</h2>
    </section>

    <section class="slide">
        <h2>Посмотрим на проблему еще раз</h2>
        <p>CSS иногда работает не так, как я ожидаю</p>
        <pre lang="css">
            <code class=" bad">height: calc(3px+4px)</code>
            <code class=" ">height: calc(3px - 4px)       <span class="">// => 0px</span></code>
            <code class="bad ">height: calc(25% - 0)</code>
        </pre>
    </section>

    <section class="slide">
        <img src="./access/calc_syntax.png" alt="" class="cover ">
        <div class="next term" style="height: 65px; position: absolute; top: 60%; left: 40px; right: 60px"></div>
    </section>

    <section class="slide">
        <h2>Вокруг + и - должны быть пробелы</h2>
        <pre lang="css">
            <code>calc(50%-2em);</code>
        </pre>

        <pre lang="css">
            <code class="next good">calc(50% - 2em);  // => &lt;length> '-' &lt;length></code>
            <code class="next bad">calc(50% -2em);   // => &lt;length> &lt;length></code>
            <code class="next good">calc(50% - -2em);</code>
            <code class="next good">calc(50% - (-2em));</code>
        </pre>
    </section>

    <section class="slide">
        <h2>Посмотрим на проблему еще раз</h2>
        <p>CSS иногда работает не так, как я ожидаю</p>
        <pre lang="css">
            <code class=" bad crossed-out">height: calc(3px+4px)</code>
            <code class=" ">height: calc(3px - 4px)       <span class="">// => 0px</span></code>
            <code class="bad ">height: calc(25% - 0)</code>
        </pre>
    </section>

    <section class="slide">
        <h2>Calc(). Type Checking</h2>
        <ol>
            <li class="">Нельзя использовать в одном выражении &lt;length> и &lt;time></li>
            <li class="next">Нельзя использовать в одном выражении &lt;angle> и &lt;length></li>
            <li class="next">Нельзя складывать или вычитать &lt;length> и &lt;number-token></li>
            <li class="next">...</li>
            <li class="next">...</li>
        </ol>
    </section>

    <section class="slide">
        <h2>Calc(). Type Checking</h2>
        <p class="">Нельзя использовать в одном выражении несовместимые типы</p>
        <pre lang="css">
            <code class="bad next">calc(5px + 10s)  // => &lt;length> '+' &lt;time></code>
            <code class="bad next">calc(5deg / 5em)  // => &lt;angle> '/' &lt;length></code>
            <code class="bad next">calc(5px - 5)  // => &lt;length> '-' &lt;number-token></code>
            <code class="bad next">calc(5px - 0)  // => &lt;length> '-' &lt;number-token></code>
        </pre>
    </section>

    <section class="slide">
        <h2>Посмотрим на проблему еще раз</h2>
        <p>CSS иногда работает не так, как я ожидаю</p>
        <pre lang="css">
            <code class="bad crossed-out">height: calc(3px+4px)</code>
            <code class=" ">height: calc(3px - 4px)       <span class="">// => 0px</span></code>
            <code class="bad crossed-out">height: calc(25% - 0)</code>
        </pre>
    </section>

    <section class="slide">
        <h2>Похожая проблема</h2>
        <pre lang="css">
            <code><span class="crossed-out">height: -12px</span>   </code>
            <code class="">height: calc(-12px)  // => 0px</code>
        </pre>

        <p class="next">Проверка соответствия значения свойства его грамматике</p>
    </section>

    <section class="slide">
        <h2>CSS Type Checking</h2>
        <p>Проверка соответствия значения свойства его грамматике</p>
        <img src="./access/css_height.png" style="margin-top: 268px; max-height: none;" class="cover">
    </section>

    <section class="slide">
        <h2>CSS Type Checking</h2>
        <p>Проверка соответствия значения свойства его грамматике</p>
        <img src="./access/css_height_2.png" style="margin-top: 86px; max-height: none;" class="cover">

        <div class="next term" style="height: 40px; position: absolute; top: 56%; left: 90px; width: 325px"></div>
    </section>


    <section class="slide">
        <img src="./access/css_ranges_new.png" style="; max-height: none;" class="cover">

        <div class="next term" style="height: 100px; position: absolute; bottom: 5%; left: 60px; right: 60px;"></div>
    </section>

    <section class="slide">
        <h2>CSS Type Checking</h2>
        <p>Проверка соответствия значения свойства его грамматике</p>

        <div  class="">
            Грамматика свойства:
            <pre lang="vds">
                <code>height : &lt;length>[0,∞] | auto | &lt;percantage> </code>
                <code style="display: none"></code>
            </pre>
            <p class="">* Negative values for 'height' are illegal.</p>
        </div>
    </section>

    <section class="slide">
        <h2>CSS Type Checking</h2>
        <pre lang="css" class="">
            <code><span class="crossed-out">height: -12px</span>        // => auto</code>
            <code class="">height: calc(-12px)  // => 0px</code>
        </pre>
        <p class="next">Проводится перед каскадом</p>
    </section>

    <section class="slide">
        <h2>CSS Type Checking</h2>
        <pre lang="css" class="">
            <code><span class="crossed-out">height: -12px</span>        // => auto</code>
            <code class="">height: calc(-12px)  // => 0px</code>
        </pre>

        <pre lang="css" class="">
            <code><span class="crossed-out">height: -12s</span>         // => auto</code>
            <code class=""><span class="crossed-out">height: calc(-12s)</span>   // => auto</code>
        </pre>

        <p class="next">Проверка финального типа<span class="next">, но не диапазона</span></p>
    </section>

    <section class="slide">
        <h2>Calc(). Range Checking</h2>
        <pre lang="css">
            <code>height: calc(-12px);</code>
            <code>    // => 0px при обращении </code>
        </pre>

    </section>

    <section class="slide">
        <h2>Calc(). Range Checking</h2>
        <pre lang="css">
            <code>height: calc(-12px);</code>
            <code>    // => 0px при обращении </code>
        </pre>
        <div class="">
            <p>Разные ситуации:</p>
            <div class="columns two">
                <pre lang="css" class="next next-light false">
                    <code>height: -12px;</code>
                    <code>    // property syntax check</code>
                </pre>
                <pre lang="css" class="next next-light true">
                    <code>height: calc(-12px);</code>
                    <code class="no-lang">    // calc range check</code>
                </pre>
            </div>
        </div>
    </section>

    <section class="slide">
        <h2>Calc(). Range Checking</h2>
        <div class="block">
            <pre lang="css">
                <code>height: 100px;<span class="next"> // => 100px</span></code>
            </pre>
            <div class="block">
                <pre lang="css">
                    <code>height: 50%;<span class="next"> // => 50px </span></code>
                </pre>
                <div class="block">
                    <pre lang="css">
                        <code>height: inherit;<span class="next"> // 25px</span> </code>
                    </pre>
                </div>
            </div>
        </div>
    </section>

    <section class="slide">
        <h2>Calc(). Range Checking</h2>
        <div class="block">
            <pre lang="css">
                <code>height: 100px;<span class="next"> // => 100px</span></code>
            </pre>
            <div class="block">
                <pre lang="css">
                    <code>height: calc(50% - 25px);<span class="next"> // => 25px </span></code>
                </pre>
                <div class="block">
                    <pre lang="css">
                        <code>height: inherit;<span class="next"> // => calc(50% - 25px) => 0px </span> </code>
                    </pre>
                </div>
            </div>
        </div>
    </section>

    <section class="slide">
        <h2>Посмотрим на проблему еще раз</h2>
        <p>CSS иногда работает не так, как я ожидаю</p>
        <pre lang="css">
            <code class="bad crossed-out">height: calc(3px+4px)</code>
            <code class="crossed-out ">height: calc(3px - 4px)       <span class="">// => 0px</span></code>
            <code class="bad crossed-out">height: calc(25% - 0)</code>
        </pre>
    </section>

    <section class="slide">
        <h2>Итого:</h2>
        <ol>
            <li class="next">В CSS есть проверка синтаксиса и типов
                <ol class="">
                    <li class="next">Невалидный синтаксис => значение выше из каскада</li>
                    <li class="next">Не подходит тип => значение выше из каскада</li>
                </ol>
            </li>

            <li class="next">Если используется calc(), то есть проверка синтаксиса, типов и диапазона
                <ol class="">
                    <li class="next">Невалидный синтаксис => значение выше из каскада</li>
                    <li class="next">Не подходит тип => значение выше из каскада</li>
                    <li class="next">Не подходит диапазон => значение приводится</li>
                </ol>
            </li>
        </ol>
    </section>

    <section class="slide">
        <h2 class="cover shrink next" style="text-align: center; font-size: 60px">Взгляд в будущее</h2>
    </section>

    <section class="slide">
        <pre lang="css" class="">
            <code>#el {</code>
            <code>  background-color: red;</code>
            <code>  animation: anim infinite 3s;</code>
            <code>}</code>
            <code>@keyframes anim {</code>
            <code>  50% { background-color: blue; }</code>
            <code>}</code>
        </pre>

        <div id="el1" style="position: absolute; top: 90px; right: 200px"></div>

        <style>
            #el1 {
                height: 360px;
                width: 200px;
                border-radius: 10px;
            }
            #el1 {
                background: red;
                animation: anim infinite 3s;
            }
            @keyframes anim {
                50% {
                    background-color: blue;
                }
            }
        </style>
    </section>

    <section class="slide">
        <pre lang="css" class="">
            <code>#el {</code>
            <code>  --color-stop: red;</code>
            <code>  background: var(--color-stop);</code>
            <code>  animation: anim infinite 3s;</code>
            <code>}</code>
            <code>@keyframes anim {</code>
            <code>  50% { --color-stop: blue; }</code>
            <code>}</code>
        </pre>

        <div id="el2" style="position: absolute; top: 90px; right: 200px"></div>

        <style>
            #el2 {
                height: 360px;
                width: 200px;
                border-radius: 10px;
            }
            #el2 {
                --color-sto: red;
                background: var(--color-sto);
                animation: anim infinite 3s;
            }
            @keyframes anim {
                50% {
                    --color-sto: blue;
                }
            }
        </style>
    </section>

    <section class="slide">
        <h2>Почему?</h2>
        <p class="next">Потому что изначально CSS-переменные не типизированы</p>
        <pre lang="css" class="next">
            <code>div {</code>
            <code>  --name: red;</code>
            <code class="next">  --name: 11px;</code>
            <div class="next">
                <code >  --name: calc(14deg * 3);</code>
                <code>}</code>
            </div>
        </pre>
    </section>

    <section class="slide">
        <pre lang="css" class="">
            <code>#el {</code>
            <code>  --color-stop: red;</code>
            <code>  margin: 50px;</code>
            <code>  animation: anim infinite 3s;</code>
            <code>}</code>
            <code>@keyframes anim {</code>
            <code>  50% { --color-stop: 10px;</code>
            <code>       margin: var(--color-stop); }</code>
            <code>}</code>
        </pre>
    </section>

    <section class="slide">
        <h2>Почему?</h2>
        <p class="">Браузер не знает, как построить переход от одного значения к другому</p>
        <pre lang="css" class="next">
            <code>red  =>  ???  =>  blue</code>
            <code class="next">red  =>  ???  =>  10px</code>
        </pre>
    </section>

    <section class="slide">
        <h2>Типизация переменной</h2>
        <pre>
            <code><span style="color:#9876aa;font-weight:bold;font-style:italic;">CSS</span>.registerProperty({</code>
            <code><span style="color:#9876aa;">  name</span>: <span style="color:#6a8759;">'--color-stop'</span><span style="color:#cc7832;">,</span></code>
            <code><span style="color:#cc7832;">  </span><span style="color:#9876aa;">syntax</span>: <span style="color:#6a8759;">'&lt;color&gt;'</span><span style="color:#cc7832;">,</span></code>
            <code><span style="color:#cc7832;">  </span><span style="color:#9876aa;">inherits</span>: <span style="color:#cc7832;">false,</span></code>
            <code><span style="color:#cc7832;">  </span><span style="color:#9876aa;">initialValue</span>: <span style="color:#6a8759;">'transparent'</span></code>
            <code>})</code>
        </pre>
    </section>

    <section class="slide">
        <pre lang="css" class="">
            <code>#el {</code>
            <code>  --color-stop: red;</code>
            <code>  background: var(--color-stop);</code>
            <code>  animation: anim infinite 3s;</code>
            <code>}</code>
            <code>@keyframes anim {</code>
            <code>  50% { --color-stop: blue; }</code>
            <code>}</code>
        </pre>

        <div id="el" style="position: absolute; top: 90px; right: 200px"></div>

        <style>
            #el {
                height: 360px;
                width: 200px;
                border-radius: 10px;
            }
            #el {
                --color-stop: red;
                background: var(--color-stop);
                animation: anim infinite 3s;
            }
            @keyframes anim {
                50% {
                    --color-stop: blue;
                }
            }
        </style>

        <script>
            CSS.registerProperty({
                name: '--color-stop',
                syntax: '<color>',
                inherits: false,
                initialValue: 'transparent'
            })
        </script>
    </section>

    <section class="slide">
        <h2>CSS Typed OM</h2>
        <img src="./access/speck_typed_om.png" style="margin-top: 220px; max-height: none;" class="cover">
    </section>

    <section class="slide">
        <div class="cover" style="display: flex; align-items: center; flex-direction: column; font-size: 60px; width: 100%">
            <div class=""> JS =></div>
            <div class=" next"> elem.style.height = "1px" </div>
            <div class=""> => CSS</div>
        </div>
    </section>

    <section class="slide">
        <h2>CSS Typed OM</h2>
        <pre lang="js" class="">
            <code class="next">const height = CSS.px(2);</code>
            <code class="next">elem.attributeStyleMap.set("height", height);</code>
            <div class="next">
                <code class=""> </code>
                <code class="">elem.attributeStyleMap.get("height"); // => </code>
                <code class="">  // CSSUnitValue {value: 2, unit: "px"} </code>
            </div>
        </pre>
    </section>

    <section class="slide">
        <h2>CSS Typed OM</h2>
        <ol>
            <li class="next">Лёгкое и наглядное взаимодействие c CSS OM </li>
            <li class="next">Иcпользование Value Definition Syntax</li>
            <li class="next">Очень гибкая типизация переменных</li>
            <li class="next">Можно посмотреть внутрь CSS</li>
        </ol>
    </section>


    <!--    <section class="slide">-->
    <!--        <h2 class="cover shrink" style="text-align: center; font-size: 60px">типы и производительность</h2>-->
    <!--    </section>-->

    <!--    <section class="slide">-->
    <!--        <h2>Performance</h2>-->
    <!--        <p>TODO: много лоадеров на фоне</p>-->
    <!--    </section>-->

    <!--    <section class="slide">-->
    <!--        <h2>Performance</h2>-->
    <!--        <pre lang="css">-->
    <!--            <code>@keyframes loader {</code>-->
    <!--            <code>  0% { top: 10px; }</code>-->
    <!--            <code>  100% {top: 100px; }</code>-->
    <!--            <code>}</code>-->
    <!--        </pre>-->
    <!--        <p>TODO: подсветка синтаксиса</p>-->
    <!--    </section>-->

    <!--    <section class="slide">-->
    <!--        <h2>top: 10px;</h2>-->
    <!--        <img src="./access/calc_px.png" alt="">-->
    <!--        @TODO: нормально померить по времени-->
    <!--    </section>-->

    <!--    <section class="slide">-->
    <!--        <h2>top: 10%;</h2>-->
    <!--        <img src="./access/calc_%.png" alt="">-->
    <!--        @TODO: нормально померить по времени-->
    <!--    </section>-->

    <!--    <section class="slide">-->
    <!--        <h2>top: calc(10px);</h2>-->
    <!--        <img src="./access/calc_calc.png" alt="">-->
    <!--        @TODO: нормально померить по времени-->
    <!--    </section>-->

    <!--    <section class="slide">-->
    <!--        <h2>top: calc(10px);</h2>-->
    <!--        <img src="./access/calc_calc.png" alt="">-->
    <!--        @TODO: нормально померить по времени-->
    <!--    </section>-->

    <section class="slide">
        <h2>Итого</h2>
        <ul>
            <li class="next">В CSS есть данные, типы данных, проверка типов и все связанное</li>
            <li class="next">Если CSS работает не так, как вы ожидаете, проверьте типы.</li>
            <li class="next">Для описания типов данных в CSS есть свой Value Definition Syntax.</li>
            <li class="next">Его знание облегчает чтение спецификаций.</li>
            <li class="next">Если спека сложная, понять ее помогут эксперименты в браузере</li>
            <li class="next">Благодаря Houdini скоро это ждет нас всех</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Источники</h2>
        <ul>
            <li>Спецификация <a target="_blank" href="https://www.w3.org/TR/css-values-3/">css-values-3</a></li>
            <li>Урезанная версия на <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/CSS/Value_definition_syntax">MDN</a> по-русски</li>
            <li>Хорошая статья о <a target="_blank" href="http://matt.might.net/articles/grammars-bnf-ebnf/">BNF</a> на английском</li>
            <li>Рабочие черновики <a target="_blank" href="https://drafts.css-houdini.org/css-typed-om-1/#numeric-objects">Houdini</a></li>
            <li><a target="_blank" href="https://www.youtube.com/watch?v=4kr5K-nWG3Y">Доклад</a> про Houdini от Никиты Дубко</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Почтовые <a href="https://lists.w3.org/Archives/Public/">рассылки</a> W3C</h2>
        <ul>
            <li><a target="_blank" href="https://lists.w3.org/Archives/Public/public-houdini/">Расслыка</a> public-houdini</li>
            <li><a target="_blank" href="https://lists.w3.org/Archives/Public/www-style/">Расслыка</a> www-style</li>
        </ul>
    </section>

    <section class="slide">
        <h2>София Валитова из <a href="vk.com">ВКонтакте</a></h2>
        <ul>
            <li><a>ariarzer@gmail.com</a></li>
            <li>Twitter – <a href="https://twitter.com/ariarzer">@ariarzer</a></li>
            <li>ВКонтакте – <a href="https://vk.com/ariarzer">@ariarzer</a></li>
            <li>Telegram – <a href="https://twitter.com/ariarzer">@ariarzer</a></li>
        </ul>

        <p>Презентация сделана с помощью <a href="https://shwr.me/">Shower</a></p>
    </section>

    <footer class="badge">
        <a href="https://github.com/shower/shower">Fork me on GitHub</a>
    </footer>

    <div class="progress"></div>

    <script src="./syntax.js"></script>

    <script src="shower/shower.min.js"></script>
</body>
</html>
